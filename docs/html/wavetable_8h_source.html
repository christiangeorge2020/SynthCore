<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SynthCore: C:/Users/chris/Documents/RAFx Plugins/SynthCore/PluginObjects/wavetable.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SynthCore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wavetable_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">wavetable.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _wavetable_h</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define _wavetable_h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// --- constants</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">const</span> uint32_t MAX_WAVE_TABLES = 128;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">const</span> uint32_t MAX_HIRES_TABLE_SET = 128;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">const</span> uint32_t kDefaultWaveTableLength = 256;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">enum</span> wtDataType { decimal, hex, encrypted_hex };</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">enum</span> wtTableInterval { highRes, min3rd, octave };</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">enum</span> wtTableType { kSingleTable, kMultiTable, kHiResWTSet, kUninitialized };</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// --- 1024 point sinusoid table; burned into ROM here: ------------- &gt;&gt;&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> sin_n1024[1024] = { 0.00000000000000000000000000000000, 0.00613588464915447526909497710790, 0.01227153828571992538742918554817, 0.01840672990580482018541097488651, 0.02454122852291228812360301958506, 0.03067480317663662595095708240933, 0.03680722294135883171373180289265, 0.04293825693494082024193048141569, 0.04906767432741801493456534899451, 0.05519524434968993420458360787961, 0.06132073630220857829442593356362, 0.06744391956366405094236426975840, 0.07356456359966742630795977220259, 0.07968243797143012563388708713319, 0.08579731234443989384974571521525, 0.09190895649713272386183149365024, 0.09801714032956060362877792613290, 0.10412163387205458642270627933613, 0.11022220729388305937579417559391, 0.11631863091190475234526502390509, 0.12241067519921619566325432515441, 0.12849811079379316880455519367388, 0.13458070850712616772781871077314, 0.14065823933284921087860652733070, 0.14673047445536174793190298260015, 0.15279718525844343535169400638551, 0.15885814333386144570070541703899, 0.16491312048996989436666638084716, 0.17096188876030121717164433903235, 0.17700422041214874946390978038835, 0.18303988795514095078154070961318, 0.18906866414980619262031780181132, 0.19509032201612824808378832130984, 0.20110463484209190054841087658133, 0.20711137619221856032147854875802, 0.21311031991609136193588369678764, 0.21910124015686979759287567048887, 0.22508391135979283204093803760770, 0.23105810828067110951344886871084, 0.23702360599436719801325068601727, 0.24298017990326387094413007616822, 0.24892760574572014853345081064617, 0.25486565960451457169000377689372, 0.26079411791527551400804441072978, 0.26671275747489836538406393628975, 0.27262135544994897662363086965343, 0.27851968938505305972697101424274, 0.28440753721127187692019333553617, 0.29028467725446233105301985233382, 0.29615088824362378883137125740177, 0.30200594931922808417112946699490, 0.30784964004153486660797511831333, 0.31368174039889151760718277728301, 0.31950203081601569188308076263638, 0.32531029216226292621882976163761, 0.33110630575987642920665621204535, 0.33688985339222005110926261295390, 0.34266071731199437833126353325497, 0.34841868024943456472186653627432, 0.35416352542049034379800787064596, 0.35989503653498811086564046490821, 0.36561299780477385379384713814943, 0.37131719395183754306444257053954, 0.37700741021641825945209802739555, 0.38268343236508978177923268049199, 0.38834504669882624616761290781142, 0.39399204006104809883126449676638, 0.39962419984564678809846327567357, 0.40524131400498986099734111121506, 0.41084317105790391089215063402662, 0.41642956009763715252702809266339, 0.42200027079979968158696124191920, 0.42755509343028208490977704059333, 0.43309381885315195725993930864206, 0.43861623853852765853034156862122, 0.44412214457042920034979260890395, 0.44961132965460653965195092496288, 0.45508358712634383591577602601319, 0.46053871095824000514440399456362, 0.46597649576796618120511084271129, 0.47139673682599764203970948983624, 0.47679923006332208812452222446154, 0.48218377207912271886769417506002, 0.48755016014843599592154532729182, 0.49289819222978403789880985641503, 0.49822766697278186853736769990064, 0.50353838372571757542317527622799, 0.50883014254310698909478105633752, 0.51410274419322166128409890006878, 0.51935599016558964269307807626319, 0.52458968267846894928396750401589, 0.52980362468629460526159391520196, 0.53499761988709715332390715047950, 0.54017147272989285422539751380100, 0.54532498842204646383180488555809, 0.55045797293660481130928019410931, 0.55557023301960217764872140833177, 0.56066157619733603123535203849315, 0.56573181078361312046354214544408, 0.57078074588696725566450140831876, 0.57580819141784533865546791275847, 0.58081395809576452649025668506511, 0.58579785745643886407663103454979, 0.59075970185887416441516961640446, 0.59569930449243335690567846540944, 0.60061647938386897305207412500749, 0.60551104140432554512329943463556, 0.61038280627630947527961779996986, 0.61523159058062681925349579614704, 0.62005721176328909560737656647689, 0.62485948814238634341222677903716, 0.62963823891492698425764729108778, 0.63439328416364548779426968394546, 0.63912444486377573138469188052113, 0.64383154288979138613058239570819, 0.64851440102211244109753351949621, 0.65317284295377675551463880765368, 0.65780669329707863735023920526146, 0.66241577759017178372857870272128, 0.66699992230363747136578922436456, 0.67155895484701833009211213720846, 0.67609270357531592310351697960868, 0.68060099779545302212113710993435, 0.68508366777270035541391735023353, 0.68954054473706682948375146224862, 0.69397146088965400156922669339110, 0.69837624940897291558883352990961, 0.70275474445722529992508498253301, 0.70710678118654746171500846685376, 0.71143219574521643355780042838887, 0.71573082528381859468424863734981, 0.72000250796138165476634185324656, 0.72424708295146689174259790888755, 0.72846439044822519637278901427635, 0.73265427167241281569687316732598, 0.73681656887736979300029815931339, 0.74095112535495910588423384979251, 0.74505778544146594732922039838741, 0.74913639452345925917597924126312, 0.75318679904361240939891786183580, 0.75720884650648445646226036842563, 0.76120238548426177871419895382132, 0.76516726562245895859604161159950, 0.76910333764557958780017088429304, 0.77301045336273699337681364340824, 0.77688846567323244229896772594657, 0.78073722857209437719916422793176, 0.78455659715557524158668911695713, 0.78834642762660622761217155129998, 0.79210657730021238887019308094750, 0.79583690460888345530321430487675, 0.79953726910790501314352241024608, 0.80320753148064483184498385526240, 0.80684755354379922298591054641292, 0.81045719825259476820633608440403, 0.81403632970594830275956610421417, 0.81758481315158371138807069655741, 0.82110251499110464834529921063222, 0.82458930278502529098716422595317, 0.82804504525775579626412081779563, 0.83146961230254523567140267914510, 0.83486287498638001025597077386919, 0.83822470555483796772477944614366, 0.84155497743689833267666244864813, 0.84485356524970700586862903946894, 0.84812034480329712149426768519334, 0.85135519310526519554116475774208, 0.85455798836540053375898651211173, 0.85772861000027211808571792062139, 0.86086693863776730939463277536561, 0.86397285612158669643179109698394, 0.86704624551569264845340967440279, 0.87008699110871134951850081051816, 0.87309497841829009079361867406988, 0.87607009419540660122294184475322, 0.87901222642863341416585853949073, 0.88192126434835493853370280703530, 0.88479709843093778953715400348301, 0.88763962040285393495508969863295, 0.89044872324475787817021910086623, 0.89322430119551532445854036268429, 0.89596624975618510688946116715670, 0.89867446569395381672507028270047, 0.90134884704602202809553546103416, 0.90398929312344333819595476597897, 0.90659570451491533482624163298169, 0.90916798309052226922943873432814, 0.91170603200542987831767050010967, 0.91420975570353069095119735720800, 0.91667905992104270485043571170536, 0.91911385169005777040496241170331, 0.92151403934204190182555294086342, 0.92387953251128673848313610506011, 0.92621024213831126825624551202054, 0.92850608047321547822150478168624, 0.93076696107898371224109723698348, 0.93299279883473884567024470015895, 0.93518350993894749922930031971191, 0.93733901191257495977282587773516, 0.93945922360218991897795604018029, 0.94154406518302080630888895029784, 0.94359345816196038558842928978265, 0.94560732538052127971184290800011, 0.94758559101774109123539346910547, 0.94952818059303667475035126699368, 0.95143502096900833819859144568909, 0.95330604035419375108517670014407, 0.95514116830577067140950475732097, 0.95694033573220893540423048762023, 0.95870347489587159905966018413892, 0.96043051941556578654513032233808, 0.96212140426904158019283386238385, 0.96377606579543984022251379428781, 0.96539444169768939829623377590906, 0.96697647104485207059099138859892, 0.96852209427441726674601341073867, 0.97003125319454397423868385885726, 0.97150389098625178352364173406386, 0.97293995220556006575662877366995, 0.97433938278557585821459952057921, 0.97570213003852857003295184767921, 0.97702814265775439483974196264171, 0.97831737071962765472932233024039, 0.97956976568544051886533452488948, 0.98078528040323043057924223830923, 0.98196386910955524296440444231848, 0.98310548743121628501029363178532, 0.98421009238692902520995176018914, 0.98527764238894122161838140527834, 0.98630809724459866938417462733923, 0.98730141815785843473207705756067, 0.98825756773074946437418475397862, 0.98917650996478101443898367506335, 0.99005821026229712256139237069874, 0.99090263542778000971367191596073, 0.99170975366909952519733906228794, 0.99247953459870996706371215623221, 0.99321194923479450000769475082052, 0.99390697000235606051177228437155, 0.99456457073425541537403660186101, 0.99518472667219681770944816889823, 0.99576741446765981713440396561055, 0.99631261218277800129072829804500, 0.99682029929116566790980868972838, 0.99729045667869020697082760307239, 0.99772306664419163624302200332750, 0.99811811290014917918966830256977, 0.99847558057329477421149022120517, 0.99879545620517240500646494183457, 0.99907772775264536146977434327709, 0.99932238458834954375475945198559, 0.99952941750109314256178549840115, 0.99969881869620424996725205346593, 0.99983058179582340319058175737155, 0.99992470183914450299056397852837, 0.99998117528260110908888691483298, 1.00000000000000000000000000000000, 0.99998117528260110908888691483298, 0.99992470183914450299056397852837, 0.99983058179582340319058175737155, 0.99969881869620424996725205346593, 0.99952941750109314256178549840115, 0.99932238458834954375475945198559, 0.99907772775264536146977434327709, 0.99879545620517240500646494183457, 0.99847558057329477421149022120517, 0.99811811290014917918966830256977, 0.99772306664419163624302200332750, 0.99729045667869020697082760307239, 0.99682029929116577893211115224403, 0.99631261218277800129072829804500, 0.99576741446765981713440396561055, 0.99518472667219692873175063141389, 0.99456457073425541537403660186101, 0.99390697000235606051177228437155, 0.99321194923479450000769475082052, 0.99247953459870996706371215623221, 0.99170975366909952519733906228794, 0.99090263542778000971367191596073, 0.99005821026229712256139237069874, 0.98917650996478101443898367506335, 0.98825756773074946437418475397862, 0.98730141815785843473207705756067, 0.98630809724459866938417462733923, 0.98527764238894122161838140527834, 0.98421009238692902520995176018914, 0.98310548743121628501029363178532, 0.98196386910955524296440444231848, 0.98078528040323043057924223830923, 0.97956976568544051886533452488948, 0.97831737071962765472932233024039, 0.97702814265775439483974196264171, 0.97570213003852857003295184767921, 0.97433938278557585821459952057921, 0.97293995220556017677893123618560, 0.97150389098625178352364173406386, 0.97003125319454397423868385885726, 0.96852209427441737776831587325432, 0.96697647104485207059099138859892, 0.96539444169768939829623377590906, 0.96377606579543984022251379428781, 0.96212140426904158019283386238385, 0.96043051941556589756743278485374, 0.95870347489587159905966018413892, 0.95694033573220893540423048762023, 0.95514116830577067140950475732097, 0.95330604035419386210747916265973, 0.95143502096900833819859144568909, 0.94952818059303667475035126699368, 0.94758559101774120225769593162113, 0.94560732538052139073414537051576, 0.94359345816196038558842928978265, 0.94154406518302080630888895029784, 0.93945922360218991897795604018029, 0.93733901191257495977282587773516, 0.93518350993894761025160278222756, 0.93299279883473884567024470015895, 0.93076696107898371224109723698348, 0.92850608047321558924380724420189, 0.92621024213831137927854797453620, 0.92387953251128673848313610506011, 0.92151403934204201284785540337907, 0.91911385169005777040496241170331, 0.91667905992104270485043571170536, 0.91420975570353069095119735720800, 0.91170603200542987831767050010967, 0.90916798309052249127404365935945, 0.90659570451491533482624163298169, 0.90398929312344344921825722849462, 0.90134884704602202809553546103416, 0.89867446569395392774737274521613, 0.89596624975618521791176362967235, 0.89322430119551521343623790016863, 0.89044872324475798919252156338189, 0.88763962040285393495508969863295, 0.88479709843093790055945646599866, 0.88192126434835504955600526955095, 0.87901222642863352518816100200638, 0.87607009419540660122294184475322, 0.87309497841829020181592113658553, 0.87008699110871146054080327303382, 0.86704624551569275947571213691845, 0.86397285612158680745409355949960, 0.86086693863776719837233031284995, 0.85772861000027211808571792062139, 0.85455798836540053375898651211173, 0.85135519310526519554116475774208, 0.84812034480329723251657014770899, 0.84485356524970722791323396450025, 0.84155497743689844369896491116378, 0.83822470555483818976938437117497, 0.83486287498638012127827323638485, 0.83146961230254545771600760417641, 0.82804504525775579626412081779563, 0.82458930278502517996486176343751, 0.82110251499110475936760167314787, 0.81758481315158371138807069655741, 0.81403632970594852480417102924548, 0.81045719825259476820633608440403, 0.80684755354379944503051547144423, 0.80320753148064494286728631777805, 0.79953726910790523518812733527739, 0.79583690460888356632551676739240, 0.79210657730021227784789061843185, 0.78834642762660633863447401381563, 0.78455659715557513056438665444148, 0.78073722857209459924376915296307, 0.77688846567323244229896772594657, 0.77301045336273710439911610592389, 0.76910333764557958780017088429304, 0.76516726562245906961834407411516, 0.76120238548426188973650141633698, 0.75720884650648467850686529345694, 0.75318679904361252042122032435145, 0.74913639452345925917597924126312, 0.74505778544146605835152286090306, 0.74095112535495899486193138727685, 0.73681656887737001504490308434470, 0.73265427167241281569687316732598, 0.72846439044822530739509147679200, 0.72424708295146689174259790888755, 0.72000250796138176578864431576221, 0.71573082528381870570655109986546, 0.71143219574521665560240535342018, 0.70710678118654757273731092936941, 0.70275474445722518890278252001735, 0.69837624940897291558883352990961, 0.69397146088965400156922669339110, 0.68954054473706705152835638727993, 0.68508366777270035541391735023353, 0.68060099779545324416574203496566, 0.67609270357531592310351697960868, 0.67155895484701855213671706223977, 0.66699992230363758238809168688022, 0.66241577759017200577318362775259, 0.65780669329707874837254166777711, 0.65317284295377664449233634513803, 0.64851440102211255211983598201186, 0.64383154288979138613058239570819, 0.63912444486377584240699434303679, 0.63439328416364548779426968394546, 0.62963823891492720630225221611909, 0.62485948814238634341222677903716, 0.62005721176328942867428395402385, 0.61523159058062693027579825866269, 0.61038280627630969732422272500116, 0.60551104140432565614560189715121, 0.60061647938386886202977166249184, 0.59569930449243346792798092792509, 0.59075970185887416441516961640446, 0.58579785745643897509893349706545, 0.58081395809576452649025668506511, 0.57580819141784544967777037527412, 0.57078074588696725566450140831876, 0.56573181078361345353044953299104, 0.56066157619733614225765450100880, 0.55557023301960217764872140833177, 0.55045797293660492233158265662496, 0.54532498842204635280950242304243, 0.54017147272989296524769997631665, 0.53499761988709715332390715047950, 0.52980362468629482730619884023326, 0.52458968267846894928396750401589, 0.51935599016558975371538053877885, 0.51410274419322177230640136258444, 0.50883014254310732216168844388449, 0.50353838372571768644547773874365, 0.49822766697278175751506523738499, 0.49289819222978414892111231893068, 0.48755016014843588489924286477617, 0.48218377207912288540114786883350, 0.47679923006332208812452222446154, 0.47139673682599786408431441486755, 0.46597649576796618120511084271129, 0.46053871095824022718900891959493, 0.45508358712634389142692725727102, 0.44961132965460687271885831250984, 0.44412214457042931137209507141961, 0.43861623853852754750803910610557, 0.43309381885315206828224177115771, 0.42755509343028202939862580933550, 0.42200027079979984812041493569268, 0.41642956009763715252702809266339, 0.41084317105790413293675555905793, 0.40524131400498991650849234247289, 0.39962419984564706565421943196270, 0.39399204006104815434241572802421, 0.38834504669882657923452029535838, 0.38268343236508989280153514300764, 0.37700741021641814842979556487990, 0.37131719395183770959789626431302, 0.36561299780477379828269590689160, 0.35989503653498833291024538993952, 0.35416352542049039930915910190379, 0.34841868024943478676647146130563, 0.34266071731199443384241476451280, 0.33688985339222032866501876924303, 0.33110630575987648471780744330317, 0.32531029216226325928573714918457, 0.31950203081601580290538322515204, 0.31368174039889140658488031476736, 0.30784964004153503314142881208682, 0.30200594931922802865997823573707, 0.29615088824362401087597618243308, 0.29028467725446238656417108359165, 0.28440753721127209896479826056748, 0.27851968938505317074927347675839, 0.27262135544994925417938702594256, 0.26671275747489847640636639880540, 0.26079411791527584707495179827674, 0.25486565960451468271230623940937, 0.24892760574572009302229957938835, 0.24298017990326406523315938557062, 0.23702360599436717025767507038836, 0.23105810828067133155805379374215, 0.22508391135979283204093803760770, 0.21910124015687004739305621114909, 0.21311031991609141744703492804547, 0.20711137619221883787723470504716, 0.20110463484209201157071333909698, 0.19509032201612860890627132448572, 0.18906866414980635915377149558481, 0.18303988795514089527038947835536, 0.17700422041214894375293908979074, 0.17096188876030121717164433903235, 0.16491312048997014416684692150739, 0.15885814333386147345628103266790, 0.15279718525844368515187454704574, 0.14673047445536180344305421385798, 0.14065823933284954394551391487767, 0.13458070850712627875012117328879, 0.12849811079379308553782834678714, 0.12241067519921634831892021111344, 0.11631863091190471071190160046172, 0.11022220729388323978703567718185, 0.10412163387205457254491847152167, 0.09801714032956082567338285116421, 0.09190895649713275161740710927916, 0.08579731234444015752771406368993, 0.07968243797143019502282612620547, 0.07356456359966773161929154412064, 0.06744391956366417584245454008851, 0.06132073630220848808880518276965, 0.05519524434969009379914339774587, 0.04906767432741796636230802164391, 0.04293825693494102146985369472532, 0.03680722294135883171373180289265, 0.03067480317663686534279676720871, 0.02454122852291232628751949107482, 0.01840672990580510121061408312926, 0.01227153828572000691943255645810, 0.00613588464915479879502324678242, 0.00000000000000012246467991473532, -0.00613588464915455419901313405262, -0.01227153828571976232342244372830, -0.01840672990580485834932744637626, -0.02454122852291207995678590236821, -0.03067480317663661901206317850210, -0.03680722294135858191355126223243, -0.04293825693494077860856705797232, -0.04906767432741772350102138489092, -0.05519524434968985093785676099287, -0.06132073630220824522751854601665, -0.06744391956366392604227399942829, -0.07356456359966749569689881127488, -0.07968243797142994522264558554525, -0.08579731234443992160532133084416, -0.09190895649713251569501437643339, -0.09801714032956058975099011831844, -0.10412163387205432274473793086145, -0.11022220729388300386464294433608, -0.11631863091190447478950886761595, -0.12241067519921609851873967045321, -0.12849811079379283573764780612692, -0.13458070850712605670551624825748, -0.14065823933284929414533337421744, -0.14673047445536158139844928882667, -0.15279718525844343535169400638551, -0.15885814333386122365610049200768, -0.16491312048996989436666638084716, -0.17096188876030096737146379837213, -0.17700422041214869395275854913052, -0.18303988795514064547020893769513, -0.18906866414980610935359095492458, -0.19509032201612835910609078382549, -0.20110463484209176177053279843676, -0.20711137619221858807705416438694, -0.21311031991609119540243000301416, -0.21910124015686979759287567048887, -0.22508391135979260999633311257639, -0.23105810828067108175787325308193, -0.23702360599436694821307014535705, -0.24298017990326381543297884491039, -0.24892760574571987097769465435704, -0.25486565960451446066770131437806, -0.26079411791527562503034687324543, -0.26671275747489825436176147377410, -0.27262135544994903213478210091125, -0.27851968938505289319351732046925, -0.28440753721127182140904210427834, -0.29028467725446210900841492730251, -0.29615088824362378883137125740177, -0.30200594931922780661537331070576, -0.30784964004153481109682388705551, -0.31368174039889118454027538973605, -0.31950203081601558086077830012073, -0.32531029216226298172998099289543, -0.33110630575987626267320251827186, -0.33688985339222010662041384421173, -0.34266071731199421179780983948149, -0.34841868024943456472186653627432, -0.35416352542049012175340294561465, -0.35989503653498811086564046490821, -0.36561299780477357623809098186030, -0.37131719395183743204214010802389, -0.37700741021641792638519063984859, -0.38268343236508967075693021797633, -0.38834504669882635718991537032707, -0.39399204006104793229781080299290, -0.39962419984564684360961450693139, -0.40524131400498969446388741744158, -0.41084317105790391089215063402662, -0.41642956009763693048242316763208, -0.42200027079979962607581001066137, -0.42755509343028180735402088430419, -0.43309381885315184623763684612641, -0.43861623853852732546343418107426, -0.44412214457042908932749014638830, -0.44961132965460665067425338747853, -0.45508358712634366938232233223971, -0.46053871095824006065555522582144, -0.46597649576796595916050591767998, -0.47139673682599764203970948983624, -0.47679923006332186607991729943024, -0.48218377207912266335654294380220, -0.48755016014843566285463793974486, -0.49289819222978392687650739389937, -0.49822766697278153547046031235368, -0.50353838372571746440087281371234, -0.50883014254310710011708351885318, -0.51410274419322155026179643755313, -0.51935599016558964269307807626319, -0.52458968267846872723936257898458, -0.52980362468629460526159391520196, -0.53499761988709693127930222544819, -0.54017147272989285422539751380100, -0.54532498842204613076489749801112, -0.55045797293660470028697773159365, -0.55557023301960195560411648330046, -0.56066157619733592021304957597749, -0.56573181078361323148584460795973, -0.57078074588696714464219894580310, -0.57580819141784533865546791275847, -0.58081395809576430444565176003380, -0.58579785745643886407663103454979, -0.59075970185887394237056469137315, -0.59569930449243324588337600289378, -0.60061647938386863998516673746053, -0.60551104140432543410099697211990, -0.61038280627630947527961779996986, -0.61523159058062670823119333363138, -0.62005721176328920662967902899254, -0.62485948814238623238992431652150, -0.62963823891492698425764729108778, -0.63439328416364526574966475891415, -0.63912444486377573138469188052113, -0.64383154288979127510827993319253, -0.64851440102211233007523105698056, -0.65317284295377653347003388262237, -0.65780669329707852632793674274581, -0.66241577759017178372857870272128, -0.66699992230363736034348676184891, -0.67155895484701844111441459972411, -0.67609270357531581208121451709303, -0.68060099779545302212113710993435, -0.68508366777270013336931242520222, -0.68954054473706682948375146224862, -0.69397146088965377952462176835979, -0.69837624940897280456653106739395, -0.70275474445722507788048005750170, -0.70710678118654746171500846685376, -0.71143219574521643355780042838887, -0.71573082528381848366194617483416, -0.72000250796138165476634185324656, -0.72424708295146678072029544637189, -0.72846439044822519637278901427635, -0.73265427167241259365226824229467, -0.73681656887736979300029815931339, -0.74095112535495888383962892476120, -0.74505778544146583630691793587175, -0.74913639452345903713137431623181, -0.75318679904361240939891786183580, -0.75720884650648423441765544339432, -0.76120238548426200075880387885263, -0.76516726562245895859604161159950, -0.76910333764557947677786842177738, -0.77301045336273666030990625586128, -0.77688846567323255332127018846222, -0.78073722857209437719916422793176, -0.78455659715557501954208419192582, -0.78834642762660589454526416375302, -0.79210657730021238887019308094750, -0.79583690460888345530321430487675, -0.79953726910790479109891748521477, -0.80320753148064505388958878029371, -0.80684755354379922298591054641292, -0.81045719825259465718403362188837, -0.81403632970594808071496117918286, -0.81758481315158382241037315907306, -0.82110251499110464834529921063222, -0.82458930278502506894255930092186, -0.82804504525775546319721343024867, -0.83146961230254523567140267914510, -0.83486287498638001025597077386919, -0.83822470555483785670247698362800, -0.84155497743689855472126737367944, -0.84485356524970700586862903946894, -0.84812034480329712149426768519334, -0.85135519310526486247425737019512, -0.85455798836540064478128897462739, -0.85772861000027200706341545810574, -0.86086693863776708735002785033430, -0.86397285612158647438718617195264, -0.86704624551569264845340967440279, -0.87008699110871134951850081051816, -0.87309497841828986874901374903857, -0.87607009419540671224524430726888, -0.87901222642863341416585853949073, -0.88192126434835493853370280703530, -0.88479709843093756749254907845170, -0.88763962040285404597739216114860, -0.89044872324475787817021910086623, -0.89322430119551521343623790016863, -0.89596624975618488484485624212539, -0.89867446569395381672507028270047, -0.90134884704602191707323299851851, -0.90398929312344311615134984094766, -0.90659570451491544584854409549735, -0.90916798309052238025174119684380, -0.91170603200542976729536803759402, -0.91420975570353046890659243217669, -0.91667905992104270485043571170536, -0.91911385169005765938265994918766, -0.92151403934204179080325047834776, -0.92387953251128651643853118002880, -0.92621024213831137927854797453620, -0.92850608047321547822150478168624, -0.93076696107898360121879477446782, -0.93299279883473895669254716267460, -0.93518350993894761025160278222756, -0.93733901191257484875052341521950, -0.93945922360218969693335111514898, -0.94154406518302080630888895029784, -0.94359345816196027456612682726700, -0.94560732538052116868954044548445, -0.94758559101774120225769593162113, -0.94952818059303667475035126699368, -0.95143502096900833819859144568909, -0.95330604035419375108517670014407, -0.95514116830577078243180721983663, -0.95694033573220882438192802510457, -0.95870347489587148803735772162327, -0.96043051941556567552282785982243, -0.96212140426904158019283386238385, -0.96377606579543984022251379428781, -0.96539444169768928727393131339340, -0.96697647104485218161329385111458, -0.96852209427441726674601341073867, -0.97003125319454397423868385885726, -0.97150389098625167250133927154820, -0.97293995220556017677893123618560, -0.97433938278557585821459952057921, -0.97570213003852845901064938516356, -0.97702814265775428381743950012606, -0.97831737071962765472932233024039, -0.97956976568544051886533452488948, -0.98078528040323031955693977579358, -0.98196386910955535398670690483414, -0.98310548743121628501029363178532, -0.98421009238692902520995176018914, -0.98527764238894111059607894276269, -0.98630809724459866938417462733923, -0.98730141815785832370977459504502, -0.98825756773074946437418475397862, -0.98917650996478090341668121254770, -0.99005821026229712256139237069874, -0.99090263542778000971367191596073, -0.99170975366909952519733906228794, -0.99247953459871007808601461874787, -0.99321194923479450000769475082052, -0.99390697000235606051177228437155, -0.99456457073425541537403660186101, -0.99518472667219692873175063141389, -0.99576741446765981713440396561055, -0.99631261218277800129072829804500, -0.99682029929116566790980868972838, -0.99729045667869020697082760307239, -0.99772306664419163624302200332750, -0.99811811290014917918966830256977, -0.99847558057329477421149022120517, -0.99879545620517240500646494183457, -0.99907772775264536146977434327709, -0.99932238458834943273245698946994, -0.99952941750109314256178549840115, -0.99969881869620424996725205346593, -0.99983058179582340319058175737155, -0.99992470183914450299056397852837, -0.99998117528260110908888691483298, -1.00000000000000000000000000000000, -0.99998117528260110908888691483298, -0.99992470183914450299056397852837, -0.99983058179582340319058175737155, -0.99969881869620424996725205346593, -0.99952941750109314256178549840115, -0.99932238458834954375475945198559, -0.99907772775264536146977434327709, -0.99879545620517240500646494183457, -0.99847558057329477421149022120517, -0.99811811290014917918966830256977, -0.99772306664419163624302200332750, -0.99729045667869020697082760307239, -0.99682029929116566790980868972838, -0.99631261218277800129072829804500, -0.99576741446765981713440396561055, -0.99518472667219692873175063141389, -0.99456457073425541537403660186101, -0.99390697000235606051177228437155, -0.99321194923479461102999721333617, -0.99247953459871007808601461874787, -0.99170975366909952519733906228794, -0.99090263542778000971367191596073, -0.99005821026229712256139237069874, -0.98917650996478090341668121254770, -0.98825756773074946437418475397862, -0.98730141815785843473207705756067, -0.98630809724459878040647708985489, -0.98527764238894122161838140527834, -0.98421009238692913623225422270480, -0.98310548743121639603259609430097, -0.98196386910955535398670690483414, -0.98078528040323043057924223830923, -0.97956976568544062988763698740513, -0.97831737071962776575162479275605, -0.97702814265775428381743950012606, -0.97570213003852857003295184767921, -0.97433938278557596923690198309487, -0.97293995220556028780123369870125, -0.97150389098625178352364173406386, -0.97003125319454397423868385885726, -0.96852209427441737776831587325432, -0.96697647104485229263559631363023, -0.96539444169768939829623377590906, -0.96377606579543995124481625680346, -0.96212140426904169121513632489950, -0.96043051941556578654513032233808, -0.95870347489587159905966018413892, -0.95694033573220893540423048762023, -0.95514116830577089345410968235228, -0.95330604035419386210747916265973, -0.95143502096900844922089390820474, -0.94952818059303678577265372950933, -0.94758559101774131327999839413678, -0.94560732538052127971184290800011, -0.94359345816196038558842928978265, -0.94154406518302091733119141281350, -0.93945922360218980795565357766463, -0.93733901191257495977282587773516, -0.93518350993894772127390524474322, -0.93299279883473906771484962519025, -0.93076696107898371224109723698348, -0.92850608047321558924380724420189, -0.92621024213831149030085043705185, -0.92387953251128662746083364254446, -0.92151403934204190182555294086342, -0.91911385169005788142726487421896, -0.91667905992104281587273817422101, -0.91420975570353057992889489469235, -0.91170603200542987831767050010967, -0.90916798309052249127404365935945, -0.90659570451491555687084655801300, -0.90398929312344333819595476597897, -0.90134884704602213911783792354981, -0.89867446569395403876967520773178, -0.89596624975618499586715870464104, -0.89322430119551532445854036268429, -0.89044872324475798919252156338189, -0.88763962040285415699969462366425, -0.88479709843093767851485154096736, -0.88192126434835504955600526955095, -0.87901222642863363621046346452204, -0.87607009419540693428984923230018, -0.87309497841829009079361867406988, -0.87008699110871146054080327303382, -0.86704624551569287049801459943410, -0.86397285612158658540948863446829, -0.86086693863776730939463277536561, -0.85772861000027222910802038313705, -0.85455798836540075580359143714304, -0.85135519310526508451886229522643, -0.84812034480329734353887261022464, -0.84485356524970722791323396450025, -0.84155497743689877676587229871075, -0.83822470555483796772477944614366, -0.83486287498638012127827323638485, -0.83146961230254545771600760417641, -0.82804504525775568524181835527997, -0.82458930278502529098716422595317, -0.82110251499110487038990413566353, -0.81758481315158404445497808410437, -0.81403632970594830275956610421417, -0.81045719825259487922863854691968, -0.80684755354379944503051547144423, -0.80320753148064527593419370532501, -0.79953726910790501314352241024608, -0.79583690460888367734781922990805, -0.79210657730021261091479800597881, -0.78834642762660611658986908878433, -0.78455659715557524158668911695713, -0.78073722857209459924376915296307, -0.77688846567323277536587511349353, -0.77301045336273688235451118089259, -0.76910333764557969882247334680869, -0.76516726562245918064064653663081, -0.76120238548426222280340880388394, -0.75720884650648456748456283094129, -0.75318679904361263144352278686711, -0.74913639452345959224288662881008, -0.74505778544146583630691793587175, -0.74095112535495910588423384979251, -0.73681656887737012606720554686035, -0.73265427167241314876378055487294, -0.72846439044822508535048655176070, -0.72424708295146700276490037140320, -0.72000250796138187681094677827787, -0.71573082528381903877345848741243, -0.71143219574521643355780042838887, -0.70710678118654768375961339188507, -0.70275474445722563299199237007997, -0.69837624940897269354422860487830, -0.69397146088965400156922669339110, -0.68954054473706716255065884979558, -0.68508366777270079950312720029615, -0.68060099779545302212113710993435, -0.67609270357531603412581944212434, -0.67155895484701866315901952475542, -0.66699992230363802647730153694283, -0.66241577759017178372857870272128, -0.65780669329707885939484413029277, -0.65317284295377708858154619520064, -0.64851440102211233007523105698056, -0.64383154288979149715288485822384, -0.63912444486377595342929680555244, -0.63439328416364593188347953400807, -0.62963823891492698425764729108778, -0.62485948814238645443452924155281, -0.62005721176328953969658641653950, -0.61523159058062737436500810872531, -0.61038280627630947527961779996986, -0.60551104140432565614560189715121, -0.60061647938386930611898151255446, -0.59569930449243324588337600289378, -0.59075970185887427543747207892011, -0.58579785745643908612123595958110, -0.58081395809576497057946653512772, -0.57580819141784522763316545024281, -0.57078074588696736668680387083441, -0.56573181078361356455275199550670, -0.56066157619733658634686435107142, -0.55557023301960217764872140833177, -0.55045797293660503335388511914061, -0.54532498842204679689871227310505, -0.54017147272989274320309505128535, -0.53499761988709726434620961299515, -0.52980362468629493832850130274892, -0.52458968267846939337317735407851, -0.51935599016558953167077561374754, -0.51410274419322188332870382510009, -0.50883014254310743318399090640014, -0.50353838372571813053468758880626, -0.49822766697278186853736769990064, -0.49289819222978425994341478144634, -0.48755016014843638449960394609661, -0.48218377207912260784539171254437, -0.47679923006332219914682468697720, -0.47139673682599791959546564612538, -0.46597649576796668080547192403174, -0.46053871095823994963325276330579, -0.45508358712634400244922971978667, -0.44961132965460698374116077502549, -0.44412214457042981097245615274005, -0.43861623853852765853034156862122, -0.43309381885315217930454423367337, -0.42755509343028252899898689065594, -0.42200027079979957056465877940354, -0.41642956009763726354933055517904, -0.41084317105790424395905802157358, -0.40524131400499041610885342379333, -0.39962419984564678809846327567357, -0.39399204006104826536471819053986, -0.38834504669882669025682275787403, -0.38268343236509039240189622432808, -0.37700741021641825945209802739555, -0.37131719395183782062019872682868, -0.36561299780477435339420821946987, -0.35989503653498799984333800239256, -0.35416352542049051033146156441944, -0.34841868024943489778877392382128, -0.34266071731199493344277584583324, -0.33688985339221999559811138169607, -0.33110630575987659574010990581883, -0.32531029216226337030803961170022, -0.31950203081601546983847583760507, -0.31368174039889151760718277728301, -0.30784964004153514416373127460247, -0.30200594931922858377149054831534, -0.29615088824362373332022002614394, -0.29028467725446249758647354610730, -0.28440753721127220998710072308313, -0.27851968938505367034963455807883, -0.27262135544994897662363086965343, -0.26671275747489858742866886132106, -0.26079411791527595809725426079240, -0.25486565960451440515655008312024, -0.24892760574572020404460204190400, -0.24298017990326417625546184808627, -0.23702360599436772536918738296663, -0.23105810828067099849114640619518, -0.22508391135979297081881611575227, -0.21910124015687015841535867366474, -0.21311031991609197255854724062374, -0.20711137619221853256590293312911, -0.20110463484209212259301580161264, -0.19509032201612871992857378700137, -0.18906866414980602608686410803784, -0.18303988795514100629269194087101, -0.17700422041214905477524155230640, -0.17096188876030177228315665161062, -0.16491312048996981109993953396042, -0.15885814333386158447858349518356, -0.15279718525844379617417700956139, -0.14673047445536238631014214206516, -0.14065823933284921087860652733070, -0.13458070850712641752799925143336, -0.12849811079379364064934065936541, -0.12241067519921602912980063138093, -0.11631863091190483561199187079183, -0.11022220729388336468712594751196, -0.10412163387205512765643078409994, -0.09801714032956050648426327143170, -0.09190895649713287651749737960927, -0.08579731234444028242780433402004, -0.07968243797143075013433843878374, -0.07356456359966741243017196438814, -0.06744391956366428686475700260416, -0.06132073630220905707810530316237, -0.05519524434968977461002381801336, -0.04906767432741809126239829197402, -0.04293825693494113943105006114820, -0.03680722294135939376413801937815, -0.03067480317663654268423023552259, -0.02454122852291244771816280945131, -0.01840672990580522611070435345937, -0.01227153828572057243928572489722, -0.00613588464915447700381845308470 };</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// ------------------------------------------------------------------ &gt;&gt;&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// --- structure to define a high-resolution wavetable set</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="struct_hi_res_w_t_set.html">   22</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="comment">// --- multi initializer construction</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>(std::string _waveformNameForGUI, <span class="keywordtype">double</span> _tableFs, uint32_t* _tableLengths, </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordtype">bool</span> _isEncrypted, uint64_t _encryptionKey, <span class="keywordtype">bool</span> _isHexTable, uint64_t** _pp_uHexTableSet,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordtype">double</span>** _pp_dDecimalTableSet, <span class="keywordtype">double</span> _outputComp)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        : waveformNameForGUI(_waveformNameForGUI)</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        , tableFs(_tableFs)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        , tableLengths(_tableLengths)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        , isEncrypted(_isEncrypted)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        , encryptionKey(_encryptionKey)</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        , isHexTable(_isHexTable)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        , pp_uHexTableSet(_pp_uHexTableSet)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        , pp_dDecimalTableSet(_pp_dDecimalTableSet)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        , outputComp(_outputComp)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">if</span> (!isHexTable)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            tableDataType = wtDataType::decimal;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isEncrypted)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            tableDataType = wtDataType::encrypted_hex;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            tableDataType = wtDataType::hex;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>() { }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    ~<a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>() { }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// --- ptr to array of table lengths</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    uint32_t* tableLengths = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// --- for encrypted tables which are always hex</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">bool</span> isEncrypted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    uint64_t encryptionKey = 0.0;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// --- for Hex (Encrypted or not)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">bool</span> isHexTable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    uint64_t** pp_uHexTableSet = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// --- normal decimal doubles</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">double</span>** pp_dDecimalTableSet = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// --- data type for this table set</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    uint32_t tableDataType = wtDataType::decimal;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// --- fs for this table set</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">double</span> tableFs = 44100.0;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// --- output scaling factor (NOT volume or attenuation, waveform specific)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">double</span> outputComp = 1.0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// --- GUI string for this waveform</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    std::string waveformNameForGUI;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// --- flag for dynamically created tables (brick file)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">bool</span> isDynamicTable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;};</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// --- description struct for brick file</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_brick_file_descriptor.html">   80</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_brick_file_descriptor.html">BrickFileDescriptor</a></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">char</span> waveName[32];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">bool</span> isEncrypted;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">double</span> outputComp;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">double</span> fs;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    uint32_t lenArray[128];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    uint32_t tableIndexArray[128];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    uint32_t numStoredTables;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    uint64_t encryptionKey;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// ------------------------------------------------- </span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_wavetable.html">   92</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_wavetable.html">Wavetable</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="class_wavetable.html">Wavetable</a>() {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">// --- clear the table of 128 table-pointers</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        memset(pdMultiTable128, 0, MAX_WAVE_TABLES*(<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>*)));</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// --- clean up</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    ~<a class="code" href="class_wavetable.html">Wavetable</a>() {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        destroyWaveTables();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// --- set the table cloaked as void*</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> selectTable(uint32_t midiNoteNumber)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        currentWaveTableLen = 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (tableType == wtTableType::kHiResWTSet)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            currentWaveTableLen = pHiResWTSet-&gt;tableLengths[midiNoteNumber];</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            currentWaveTableLen = tableLength;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        pvSelectedTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">if</span> (tableType == wtTableType::kSingleTable &amp;&amp; pdSingleTable)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            pvSelectedTable = (<span class="keywordtype">void</span>*)(pdSingleTable);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tableType == wtTableType::kMultiTable &amp;&amp; pdMultiTable128[midiNoteNumber])</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            pvSelectedTable = (<span class="keywordtype">void</span>*)(pdMultiTable128[midiNoteNumber]);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">if</span> (pHiResWTSet-&gt;isHexTable &amp;&amp; pHiResWTSet-&gt;pp_uHexTableSet[midiNoteNumber])</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                pvSelectedTable = (<span class="keywordtype">void</span>*)(pHiResWTSet-&gt;pp_uHexTableSet[midiNoteNumber]);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pHiResWTSet-&gt;pp_dDecimalTableSet[midiNoteNumber])</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                pvSelectedTable = (<span class="keywordtype">void</span>*)(pHiResWTSet-&gt;pp_dDecimalTableSet[midiNoteNumber]);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> destroyWaveTables()</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// --- the only one that needs destruction here is the multi-table</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment">//     the others are all hard-coded (burned in)</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (tableType == wtTableType::kMultiTable)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordtype">double</span>* pTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordtype">double</span>* pDeletedTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 128; i++)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">if</span> (pdMultiTable128[i])</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    pTable = pdMultiTable128[i];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="keywordflow">if</span> (pTable != pDeletedTable)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        pDeletedTable = pTable;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <span class="keyword">delete</span> pTable;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 128; i++)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                pdMultiTable128[i] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> (tableType == wtTableType::kHiResWTSet &amp;&amp; pHiResWTSet)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span> (pHiResWTSet-&gt;isDynamicTable)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordtype">double</span>* pTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordtype">double</span>* pDeletedTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 128; i++)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">if</span> (pHiResWTSet-&gt;pp_dDecimalTableSet)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        pTable = pHiResWTSet-&gt;pp_dDecimalTableSet[i];</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <span class="keywordflow">if</span> (pTable != pDeletedTable)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                            pDeletedTable = pTable;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                            <span class="keyword">delete</span> [] pTable;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                <span class="keyword">delete</span>[] pHiResWTSet-&gt;pp_dDecimalTableSet;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keyword">delete</span> pHiResWTSet;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// --- read and interpolate: could add lagrange here</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">double</span> readWaveTable(<span class="keywordtype">double</span> readIndex)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> (!pvSelectedTable)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">// --- two samples from table</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordtype">double</span> wtData[2] = { 0.0, 0.0 };</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="comment">// --- get INT part</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordtype">int</span> intReadIndex = abs((<span class="keywordtype">int</span>)readIndex);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="comment">// --- get FRAC part</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">double</span> fractionalPart = readIndex - intReadIndex;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">// --- setup second index for interpolation; wrap the buffer if needed</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordtype">int</span> intReadIndexNext = intReadIndex + 1 &gt; currentWaveTableLen - 1 ? 0 : intReadIndex + 1;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (tableType == wtTableType::kSingleTable || tableType == wtTableType::kMultiTable)    </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            wtData[0] = ((<span class="keywordtype">double</span>*)pvSelectedTable)[intReadIndex];</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            wtData[1] = ((<span class="keywordtype">double</span>*)pvSelectedTable)[intReadIndexNext];</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tableType == wtTableType::kHiResWTSet)     <span class="comment">// double as 64-bit hex</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span> (pHiResWTSet-&gt;tableDataType == wtDataType::decimal)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                wtData[0] = ((<span class="keywordtype">double</span>*)pvSelectedTable)[intReadIndex];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                wtData[1] = ((<span class="keywordtype">double</span>*)pvSelectedTable)[intReadIndexNext];</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pHiResWTSet-&gt;isEncrypted)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                wtData[0] = uint64ToDouble(pHiResWTSet-&gt;encryptionKey ^ ((uint64_t*)pvSelectedTable)[intReadIndex]);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                wtData[1] = uint64ToDouble(pHiResWTSet-&gt;encryptionKey ^ ((uint64_t*)pvSelectedTable)[intReadIndexNext]);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                wtData[0] = uint64ToDouble(((uint64_t*)pvSelectedTable)[intReadIndex]);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                wtData[1] = uint64ToDouble(((uint64_t*)pvSelectedTable)[intReadIndexNext]);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">// --- interpolate the output</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordtype">double</span> output = <a class="code" href="fxobjects_8h.html#aa7553c070a9a8fb3887c63a1a1dc4485">doLinearInterpolation</a>(0.0, 1.0, wtData[0], wtData[1], fractionalPart);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">// --- scale as needed</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> outputComp * output;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">inline</span> uint64_t getDecryptionKey()</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (pHiResWTSet)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> pHiResWTSet-&gt;encryptionKey;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// --- for init with HiResWTSet in a .h file</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> initWithHiResWTSet(<a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>* _pHiResWTSet)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        pHiResWTSet = _pHiResWTSet;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        waveformName.assign(_pHiResWTSet-&gt;waveformNameForGUI);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        tableType = wtTableType::kHiResWTSet;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        outputComp = _pHiResWTSet-&gt;outputComp;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// --- for init with HiResWTSet in a brick file</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> initWithBrickFile(std::string filePath)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">// --- have shit for writing brick file, name as char[ ] will be required, but it is a CString here</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* filename = filePath.c_str();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// --- now try to open&#39;</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>* pHRWTS = <span class="keyword">new</span> <a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="struct_brick_file_descriptor.html">BrickFileDescriptor</a> bfd;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        std::ifstream inFile;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        inFile.open(filename, std::ifstream::binary);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">// --- chunk reader</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        inFile.read((<span class="keywordtype">char</span>*)(&amp;bfd), <span class="keyword">sizeof</span>(bfd));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// --- length array:</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        pHRWTS-&gt;tableLengths = <span class="keyword">new</span> uint32_t[MAX_HIRES_TABLE_SET];</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        pHRWTS-&gt;encryptionKey = bfd.encryptionKey;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        pHRWTS-&gt;isEncrypted = bfd.isEncrypted;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="comment">// --- set length array (1/3)</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        memcpy(&amp;pHRWTS-&gt;tableLengths[0], &amp;bfd.lenArray[0], <span class="keyword">sizeof</span>(uint32_t)*MAX_HIRES_TABLE_SET);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        uint32_t tableIndexArray[128];</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        memcpy(&amp;tableIndexArray[0], &amp;bfd.tableIndexArray[0], <span class="keyword">sizeof</span>(uint32_t)*128);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">// --- create the table set</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        pHRWTS-&gt;pp_dDecimalTableSet = <span class="keyword">new</span> <span class="keywordtype">double</span>*[MAX_HIRES_TABLE_SET];</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// --- now bring in the tables</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">int</span> lastPtrStart = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bfd.numStoredTables; i++)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="comment">// --- size of this table</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            uint32_t tableLen = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            inFile.read((<span class="keywordtype">char</span>*)(&amp;tableLen), <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="comment">// --- array of hex</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            uint64_t* arrayOfHex = <span class="keyword">new</span> uint64_t[tableLen];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordtype">double</span>* arrayOfDouble = <span class="keyword">new</span> <span class="keywordtype">double</span>[tableLen];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="comment">// --- read into array</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            inFile.read((<span class="keywordtype">char</span>*)(arrayOfHex), <span class="keyword">sizeof</span>(uint64_t)*tableLen);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="comment">// --- convert to double and decrypt if needed</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; tableLen; j++)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">if</span>(pHRWTS-&gt;isEncrypted)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    arrayOfDouble[j] = uint64ToDouble(pHRWTS-&gt;encryptionKey ^ arrayOfHex[j]);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    arrayOfDouble[j] = uint64ToDouble(arrayOfHex[j]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keyword">delete</span> [] arrayOfHex;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="comment">// --- load pointers </span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = lastPtrStart; j &lt; 128; j++)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">if</span> (tableIndexArray[j] == i)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    pHRWTS-&gt;pp_dDecimalTableSet[j] = arrayOfDouble;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    lastPtrStart = j;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">// --- massage the structure to reflect the import</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        pHRWTS-&gt;tableDataType = wtDataType::decimal; <span class="comment">// we will convert to decimal here</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        pHRWTS-&gt;isHexTable = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// --- no longer encrypted</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        pHRWTS-&gt;isEncrypted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="comment">// --- finish setup</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        pHRWTS-&gt;outputComp = bfd.outputComp;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        pHRWTS-&gt;tableFs = bfd.fs;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        pHRWTS-&gt;isDynamicTable = <span class="keyword">true</span>; <span class="comment">// we are dynamic and need deleting</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="comment">// --- note: this is a final copy because pointer is const</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        pHiResWTSet = pHRWTS;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        waveformName.assign(bfd.waveName);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        tableType = wtTableType::kHiResWTSet;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        outputComp = bfd.outputComp;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// --- there are 3 types of wavetables that can be stored</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// --- static single table: a pre-burned table that is not sample rate dependent, may be one-shot or drum loop</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">double</span>* pdSingleTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// --- a set of 128 pointers to wavetables; one for each MIDI note</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">//     If there are less than one table per note (sampled on minor 3rd intervals, for example)</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">//     then the pointer is repeated in the slot for the closest neighbor to interpolate</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">double</span>* pdMultiTable128[MAX_WAVE_TABLES];<span class="comment">// = nullptr;</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// --- current selected table cloaked as void*</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">void</span>* pvSelectedTable = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">// --- for single and multi tables, there is only one length </span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    uint32_t tableLength = kDefaultWaveTableLength;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    uint32_t currentWaveTableLen = kDefaultWaveTableLength;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// --- high resolution wave table (TM) </span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_hi_res_w_t_set.html">HiResWTSet</a>* pHiResWTSet = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// --- output scaling factor (NOT volume or attenuation, waveform specific)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">double</span> outputComp = 1.0;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// --- type</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    wtTableType tableType = wtTableType::kUninitialized;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// --- name for GUI</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    std::string waveformName;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;};</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#endif // definer</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_brick_file_descriptor_html"><div class="ttname"><a href="struct_brick_file_descriptor.html">BrickFileDescriptor</a></div><div class="ttdef"><b>Definition:</b> wavetable.h:80</div></div>
<div class="ttc" id="aclass_wavetable_html"><div class="ttname"><a href="class_wavetable.html">Wavetable</a></div><div class="ttdef"><b>Definition:</b> wavetable.h:92</div></div>
<div class="ttc" id="afxobjects_8h_html_aa7553c070a9a8fb3887c63a1a1dc4485"><div class="ttname"><a href="fxobjects_8h.html#aa7553c070a9a8fb3887c63a1a1dc4485">doLinearInterpolation</a></div><div class="ttdeci">double doLinearInterpolation(double x1, double x2, double y1, double y2, double x)</div><div class="ttdoc">performs linear interpolation of x distance between two (x,y) points; returns interpolated value</div><div class="ttdef"><b>Definition:</b> fxobjects.h:87</div></div>
<div class="ttc" id="astruct_hi_res_w_t_set_html"><div class="ttname"><a href="struct_hi_res_w_t_set.html">HiResWTSet</a></div><div class="ttdef"><b>Definition:</b> wavetable.h:22</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_316b726d19e600d6b65444cab43e39fd.html">PluginObjects</a></li><li class="navelem"><b>wavetable.h</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
